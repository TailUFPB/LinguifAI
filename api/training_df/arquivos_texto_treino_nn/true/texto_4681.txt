washington  reuters    president donald trump suffered a stunning political setback on friday in a congress controlled by his own party when republican leaders pulled legislation to overhaul the u s  healthcare system  a major  election campaign promise of the president and his allies  house of representatives leaders yanked the bill after a rebellion by republican moderates and the party s most conservative lawmakers left them short of votes  ensuring that trump s first major legislative initiative since taking office on jan   ended in failure  democrats were unified against it  house republicans had planned a vote on the measure after trump late on thursday cut off negotiations with republicans who had balked at the plan and issued an ultimatum to vote on friday  win or lose  but desperate lobbying by the white house and republican house speaker paul ryan was unable to round up the  votes needed for passage   we learned a lot about loyalty  we learned a lot about the vote getting process   trump told reporters at the white house  although he sought to shift the blame to the democrats even though his party controls the white house  the house and the senate  with friday s legislative collapse  democratic former president barack obama s signature domestic policy achievement  the  affordable care act   known as obamacare   remains in place despite seven years of republican promises to dismantle it  the healthcare failure called into question not only trump s ability to get other key parts of his agenda  including tax cuts and a boost in infrastructure spending  through congress  but the republican party s capacity to govern effectively  neither trump nor ryan indicated any plans to try to tackle healthcare legislation again anytime soon  trump said he would turn his attention to getting  big tax cuts  through congress  another tricky proposition  republican supporters said the legislation would achieve their goal of rolling back the government s  nanny state  role in healthcare  the white house made undoing obamacare its top priority when trump took office two months ago  but the white house and house leaders were unable to come up with a plan that satisfied the clashing interests of moderates and conservatives  despite trump s vaunted image as a deal maker  amid a chaotic scramble for votes  ryan  who championed the bill  met with trump at the white house  ryan said he recommended that it be withdrawn from the house floor because he did not have the votes to pass it  and trump agreed   we were just probably anywhere from  to  votes short   trump said   with no democrat support we couldn t quite get there    senate democratic leader chuck schumer said the bill failed  because of two traits that have plagued the trump presidency since he took office  incompetence and broken promises   democrats said the bill would take away medical insurance from millions of americans and leave the more than   trillion u s  healthcare system in disarray  and some moderate republicans opposed the bill because of worries that millions of america would be hurt   there were things in this bill that i didn t particularly like   trump added  without specifying what those were  but expressed confidence in ryan s leadership   perhaps the best thing that could happen is exactly what happened today  because we ll end up with a truly great healthcare bill in the future after this mess known as obamacare explodes   said trump  who had posted multiple tweets throughout march proclaiming that  obamacare is imploding  and repeatedly saying that republicans were coming together to pass the bill  friday s events cast doubt on whether ryan can get major legislation approved by fractious republican lawmakers   i will not sugarcoat this  this is a disappointing day for us  doing big things is hard   ryan said at a news conference  adding that his fellow republicans are experiencing what he called  growing pains  transitioning from an opposition party to a governing party   obamacare s the law of the land   ryan added   we re going to be living with obamacare for the foreseeable future   members of the freedom caucus  the house s most conservative members  were instrumental in the bill s failure  opposing it among other reasons because they considered parts too similar to obamacare  trump said he was disappointed and  a little surprised  with the freedom caucus opposition  the nonpartisan congressional budget office said under the republican legislation  million people would lose medical coverage by next year and more than  million would be uninsured in   news that the bill had been pulled before a final vote was greeted initially with a small sigh of relief by u s  equity investors  who earlier in the week had been fretful that an outright defeat would damage trump s other priorities  such as tax cuts and infrastructure spending      benchmark u s  stock market indexes ended the session mixed after rallying back from session lows following the news  the s p  index ended fractionally lower  the blue chip dow jones industrial average slipped about   percent and the nasdaq composite index rose about   percent   shares of hospital operators finished sharply higher  with the s p healthcare facilities index up   percent  while the s p  healthcare sector edged down   percent  the dollar strengthened modestly on the news  and u s  treasury bond yields edged up from session lows  trump said he would be  totally open  to working with democrats on healthcare  when they all become civilized   house democratic leader nancy pelosi said working to lower prescription drug prices was one area of possible cooperation with republicans  republican representative dana rohrabacher said before the bill was pulled that voting it down would be  neutering trump  while empowering his opponents   you don t cut the balls off a bull and then expect that he can go out and get the job done   rohrabacher told reuters   this will emasculate trump and we can t do that      if we bring this down now  trump will have lost all of his leverage to pass whatever bill it is  whether it s the tax bill or whatever reforms that he wants   representative joe barton of texas  when asked why his fellow republicans were so united over the past seven years to dump obamacare only to fall apart when they actually do something about it  said   sometimes you re playing fantasy football and sometimes you re in the real game   obamacare boosted the number of americans with health insurance through mandates on individuals and employers  and income based subsidies  about  million americans gained insurance coverage through the law  the house plan would have rescinded a range of taxes created by obamacare  ended a penalty on people who refuse to obtain health insurance  and ended obamacare s income based subsidies to help people buy insurance while creating less generous age based tax credits it also would have ended obamacare s expansion of the medicaid state federal insurance program for the poor  cut future federal medicaid funding and let states impose work requirements on some medicaid recipients   house leaders agreed to a series of last minute changes to try to win over disgruntled conservatives  including ending the obamacare requirement that insurers cover certain  essential benefits  such as maternity care  mental health services and prescription drug coverage  click on the links below for related graphics  graphic on obamacare and republican healthcare bill  tmsnrt rs   graphic on poll on americans  views of the republican healthcare bill  tmsnrt rs   