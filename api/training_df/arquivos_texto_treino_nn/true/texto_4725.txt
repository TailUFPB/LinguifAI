washington  reuters    u s  president donald trump warned house republican lawmakers that he will leave obamacare in place and move on to tax reform if they do not get behind new healthcare legislation and support it in a vote on friday  it was not clear late on thursday evening that trump and the republican leaders who crafted the bill had enough support to pass it  meaning they now risk defeat in their first attempt at major legislation and may fail to deliver on a key campaign pledge   we have been promising the american people that we will repeal and replace this broken law because it s collapsing and it s failing families  and tomorrow we re proceeding   house speaker paul ryan told reporters after an evening all hands meeting  he ignored reporters who asked if he had secured the votes to pass the bill  ryan and leaders in the house of representatives were forced to postpone a vote on their healthcare bill  formally called the american health care act  earlier on thursday  dealing trump an embarrassing setback  the vote had been symbolically planned for the anniversary of former democratic president barack obama signing his namesake healthcare law  the affordable care act  in   it was supposed to have been trump s first legislative victory  trump and his fellow republicans had pledged to replace obamacare  which they view as too intrusive and too expensive  but  after a week of calling republican lawmakers and bringing them into the oval office for meetings  trump failed to close the deal with two different factions within his party on time for the planned thursday vote  conservatives felt the bill did not go far enough to repeal obamacare and moderates felt the plan could hurt their constituents  house republican leaders had signaled they were ready to work through the weekend to figure out a way to reconcile their differences  as the healthcare drama unfolded on capitol hill  trump played it cool  taking a break from negotiations to hang out with some truckers  climbing into the cab of a long haul transport truck parked on the back driveway of the white house  and blowing the horn a few times  he told reporters the vote would be close but he remained optimistic   i think we re doing well  we ll find out in about three hours   he said  just as reports began to surface that the vote had been postponed  by evening  trump sent his top lieutenants to a dramatic meeting on capitol hill on thursday night with an ultimatum  he was done talking  according to representative chris collins of new york  a top trump ally  white house budget director mick mulvaney told house republicans that trump wanted a vote   the president has said he wants a vote tomorrow  up or down   collins said   if for any reason it is down  we are just going to move forward with additional parts of his agenda  such as tax reform  collins told reporters after leaving the meeting  however  the vote has been seen by financial markets as a crucial test of trump s ability to work with congress to deliver on his other priorities  such as tax cuts and infrastructure spending  even if their replacement plan does eventually get approval from the house  the legislation faces a potentially tough fight in the republican controlled senate  the house and senate had hoped to deliver a new healthcare bill to trump by april   when congress is scheduled to begin a two week spring break  the republicans have a majority in the house but  because of united democratic opposition  can afford to lose only  republican votes  by thursday morning  nbc news said that  republicans had planned to vote  no  or were leaning that way  north carolina congressman mark meadows  the chairman of the pivotal conservative bloc known as the freedom caucus  said he and others were struggling to support the plan   i am desperately trying to get to  yes  and i think the president knows that  i told him that personally   meadows said  however  after thursday night s meeting  he was still a  no   obamacare aimed to boost the number of americans with health insurance through mandates on individuals and employers  and income based subsidies  some  million americans gained insurance coverage through the law  the house replacement plan would rescind the taxes created by obamacare  repeal a penalty against people who do not buy coverage  slash funding for the medicaid program for the poor and disabled  and modify tax subsidies that help individuals buy plans  house leaders agreed to four pages of last minute amendments to the bill  including allowing states to choose which  essential benefits  are required in healthcare insurance plans  and keeping a   percent surcharge on medicare for high income americans for six years  it was unclear whether that was enough  representative trent franks  a freedom caucus member who had been  undeclared  on his position on the bill  said he liked the changes   it s going in the right direction   franks said outside the house   the amendments will give states more money for maternal health and mental health  said representative jeff fortenberry  a nebraska moderate who still has not said how he will vote  uncertainty over the healthcare bill rattled financial markets this week  the delay in the house vote is likely to extend the ups and downs in the stocks of some hospital groups and health insurers  u s  stock markets rose steadily in recent months on optimism over a pro business trump agenda but fell back sharply on tuesday as investors worried that failure to push through the healthcare bill could postpone other business friendly trump priorities   delay on healthcare equates to delay on tax cuts  that is why the market turned red when the news flow suggested they didn t have a deal   said david kotok  chairman and chief investment officer at cumberland advisors  a money management firm  others said it was too soon to panic   if this thing gets materially delayed or if we get a  no  vote  we re going to see a horrific market reaction  but if they vote in the morning and it passes  we ll have a hell of a rally   said jake dollarhide  chief executive officer of longbow asset management in tulsa  oklahoma  graphic on obamacare and republican healthcare bill  tmsnrt rs   graphic on shifting positions in the u s  senate on republican healthcare bill  tmsnrt rs   graphic on poll on americans  views of the republican healthcare bill   tmsnrt rs   